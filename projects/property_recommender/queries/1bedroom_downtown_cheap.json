{
  "query": {
    "function_score": {
      "query": {
        "bool": {
          "must": [
            {"range": {"total_parking": {"gte": "1"}}},
            {"range": {"total_square_foot": {"gte": "600"}}}
          ],
          "must_not": [],
          "should": [
            {"range": {"total_square_foot": {"gte": "800"}}},
            {"range": {"price": {"lte": "300000"}}}
          ]
        }
      },
      "functions": [
        {"script_score" : {"script" : {"source": "Math.log(2 + doc['days_on_market'].value)"}}, "weight": 1},
        {"exp": {"price": {"origin": "0", "scale": "350000", "offset": "0", "decay" : 0.5}}, "weight": 10},
        {"field_value_factor": {"field": "total_square_foot", "modifier": "sqrt", "factor": 1, "missing":  2}}
      ],
      "boost_mode": "multiply"
    }
  }
}
